<!DOCTYPE html>
<html>
<head>
    <title>Clear Frontend Filters</title>
</head>
<body>
    <h1>Clear Frontend Filters</h1>
    <button onclick="clearFilters()">Clear All Filters</button>
    <button onclick="showStoredFilters()">Show Stored Filters</button>
    <div id="results"></div>
    
    <script>
        function showStoredFilters() {
            const results = document.getElementById('results');
            const controlFilters = localStorage.getItem('controls_filters');
            const controlFilterSets = localStorage.getItem('controls_filterSets');
            
            results.innerHTML = `
                <h2>Current Stored Filters:</h2>
                <h3>controls_filters:</h3>
                <pre>${controlFilters || 'null'}</pre>
                <h3>controls_filterSets:</h3>
                <pre>${controlFilterSets || 'null'}</pre>
            `;
        }
        
        function clearFilters() {
            // Clear all filter-related localStorage
            const keys = Object.keys(localStorage);
            const filterKeys = keys.filter(key => 
                key.includes('filters') || key.includes('controls')
            );
            
            console.log('Clearing filter keys:', filterKeys);
            
            filterKeys.forEach(key => {
                localStorage.removeItem(key);
                console.log('Removed:', key);
            });
            
            const results = document.getElementById('results');
            results.innerHTML = `
                <h2>âœ… Filters Cleared!</h2>
                <p>Cleared ${filterKeys.length} filter-related keys:</p>
                <ul>${filterKeys.map(key => `<li>${key}</li>`).join('')}</ul>
                <p><strong>Please refresh the controls page: <a href="/controls">http://localhost:3000/controls</a></strong></p>
            `;
        }
        
        // Show current filters on load
        showStoredFilters();
    </script>
</body>
</html>
